function a(t,o){console.log("Opening delete modal for:",t,o);const d=document.getElementById("deleteTitle"),l=document.getElementById("deleteForm");d&&(d.textContent=o),l&&(l.action=`/dashboard/kuesioner/${t}`);const e=document.getElementById("deleteConfirmationInput");e&&(e.value="");const n=document.getElementById("deleteModal");n&&(n.classList.remove("hidden"),document.body.classList.add("modal-open"));const i=document.getElementById("deleteButton"),s=document.getElementById("deleteButtonText"),c=document.getElementById("deleteSpinner"),u=document.getElementById("deleteIcon");s&&(s.textContent="Ya, Hapus Kuesioner"),c&&(c.style.display="none"),u&&(u.style.display="inline-block"),i&&(i.disabled=!0),e&&setTimeout(()=>e.focus(),100)}function m(){const t=document.getElementById("deleteModal");t&&(t.classList.add("hidden"),document.body.classList.remove("modal-open"))}window.confirmDelete=a;window.closeDeleteModal=m;document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("deleteConfirmationInput"),o=document.getElementById("deleteButton");t&&o&&t.addEventListener("input",function(){this.value.toLowerCase()==="hapus kuesioner"?o.disabled=!1:o.disabled=!0});const d=document.getElementById("deleteForm");d&&d.addEventListener("submit",function(e){const n=document.getElementById("deleteButton"),i=document.getElementById("deleteButtonText"),s=document.getElementById("deleteSpinner"),c=document.getElementById("deleteIcon");i&&(i.textContent="Menghapus..."),c&&(c.style.display="none"),s&&(s.style.display="inline-block"),n&&(n.disabled=!0),console.log("Form submitting to:",d.action)}),document.addEventListener("keydown",function(e){if(e.key==="Escape"){const n=document.getElementById("deleteModal");n&&!n.classList.contains("hidden")&&m()}});const l=document.getElementById("deleteModal");l&&l.addEventListener("click",function(e){e.target===l&&m()})});
